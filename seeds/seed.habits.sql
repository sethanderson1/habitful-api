-- SET timezone="UTC";
BEGIN;


-- todo: had issue with duplicate key error when inserting into 
-- habit_records. Need to sort out how setval thing works and 
-- ensure it prevents this type of error.

TRUNCATE
habit_records,
habits,
users
RESTART IDENTITY CASCADE;

INSERT INTO users (id, name, email, password, date_created)
VALUES 
-- all passwords are 'Password1!'
(1,'John', 'user1@gmail.com', '$2a$10$do9aqSHBEOX2mmidBFxxPOdknoul45m.TDoeQkdumVNrEkF2sn3KK', '2019-12-31T11:00:00Z'),
(2,'Mary', 'user2@gmail.com', '$2a$10$4AGfWWmypn45VHgsdyMOY.xymoQInQIwtzbFWeyvUvWVknpeSWwki', '2020-01-01T00:00:00Z'),
(3,'Bob', 'user3@gmail.com', '$2a$10$XrZZWlImZXIhAIf7b.8xqeDNK6kDU81An9lU.XzsuvgtR7hyG43fm', '2020-01-01T00:00:00Z');

SELECT setval('users_id_seq', (SELECT MAX(id) from "users"));

INSERT INTO habits (id, name, description, num_times, time_interval, date_created, user_id)
VALUES 
(1,
'walk for 1 hour',
null, 
1, 
'day', 
'2020-06-30T11:00:00Z',
1),
(2,
'meditate 15 min',
null, 
1, 
'day', 
'2020-07-01T00:00:00Z',
1),
(3,
'workout',
null, 
3, 
'week', 
'2020-07-01T00:00:00Z',
1),
(4,
'run 2 miles',
null, 
2, 
'week', 
'2020-07-01T00:00:00Z',
2);

-- ensures id generator will start from the max id num in database
-- instead of starting at 1
SELECT setval('habits_id_seq', (SELECT MAX(id) from "habits"));


INSERT INTO habit_records (id, date_completed, habit_id)
VALUES 
(1, '2020-07-30T07:00:00Z', 2),
    (2, '2020-07-29T07:00:00Z', 2),
    (3, '2020-07-28T07:00:00Z', 2),
    (4, '2020-07-27T07:00:00Z', 2),
    (5, '2020-07-26T07:00:00Z', 2),
    (6, '2020-07-23T07:00:00Z', 2),
    (7, '2020-07-22T07:00:00Z', 2),
    (8, '2020-07-18T07:00:00Z', 2),
    (9, '2020-07-17T07:00:00Z', 2),
    (10, '2020-07-16T07:00:00Z', 2),
    (11, '2020-07-15T07:00:00Z', 2),
    (12, '2020-07-14T07:00:00Z', 2),
    (13, '2020-07-12T07:00:00Z', 2),
    (14, '2020-07-11T07:00:00Z', 2),
    (15, '2020-07-10T07:00:00Z', 2),
    (16, '2020-07-09T07:00:00Z', 2),
    (17, '2020-07-07T07:00:00Z', 2),
    (18, '2020-07-06T07:00:00Z', 2),
    (19, '2020-07-05T07:00:00Z', 2),
    (20, '2020-07-04T07:00:00Z', 2),
    (21, '2020-07-01T07:00:00Z', 2),
    (22, '2020-06-30T07:00:00Z', 2),
    (23, '2020-06-28T07:00:00Z', 2),
    (24, '2020-06-27T07:00:00Z', 2),
    (25, '2020-06-26T07:00:00Z', 2),
    (26, '2020-06-25T07:00:00Z', 2),
    (27, '2020-06-24T07:00:00Z', 2),
    (28, '2020-06-23T07:00:00Z', 2),
    (29, '2020-06-22T07:00:00Z', 2),
    (30, '2020-06-21T07:00:00Z', 2),
    (31, '2020-06-20T07:00:00Z', 2),
    (32, '2020-06-19T07:00:00Z', 2),
    (33, '2020-06-18T07:00:00Z', 2),
    (34, '2020-06-17T07:00:00Z', 2),
    (35, '2020-06-16T07:00:00Z', 2),
    (36, '2020-06-15T07:00:00Z', 2),
    (37, '2020-06-09T07:00:00Z', 2),
    (38, '2020-06-07T07:00:00Z', 2),
    (39, '2020-06-06T07:00:00Z', 2),
    (40, '2020-06-05T07:00:00Z', 2),
    (41, '2020-06-04T07:00:00Z', 2),
    (42, '2020-06-01T07:00:00Z', 2),
    (43, '2020-05-29T07:00:00Z', 2),
    (44, '2020-05-28T07:00:00Z', 2),
    (45, '2020-05-25T07:00:00Z', 2),
    (46, '2020-05-24T07:00:00Z', 2),
    (47, '2020-05-22T07:00:00Z', 2),
    (48, '2020-05-20T07:00:00Z', 2),
    (49, '2020-05-19T07:00:00Z', 2),
    (50, '2020-05-18T07:00:00Z', 2),
    (51, '2020-05-17T07:00:00Z', 2),
    (52, '2020-05-16T07:00:00Z', 2),
    (53, '2020-05-15T07:00:00Z', 2),
    (54, '2020-05-14T07:00:00Z', 2),
    (55, '2020-05-13T07:00:00Z', 2),
    (56, '2020-05-12T07:00:00Z', 2),
    (57, '2020-05-11T07:00:00Z', 2),
    (58, '2020-05-10T07:00:00Z', 2),
    (59, '2020-05-09T07:00:00Z', 2),
    (60, '2020-05-08T07:00:00Z', 2),
    (61, '2020-05-07T07:00:00Z', 2),
    (62, '2020-05-06T07:00:00Z', 2),
    (63, '2020-05-05T07:00:00Z', 2),
    (64, '2020-05-01T07:00:00Z', 2),
    (65, '2020-04-30T07:00:00Z', 2),
    (66, '2020-04-28T07:00:00Z', 2),
    (67, '2020-04-25T07:00:00Z', 2),
    (68, '2020-04-24T07:00:00Z', 2),
    (69, '2020-04-23T07:00:00Z', 2),
    (70, '2020-04-22T07:00:00Z', 2),
    (71, '2020-04-21T07:00:00Z', 2),
    (72, '2020-04-20T07:00:00Z', 2),
    (73, '2020-04-19T07:00:00Z', 2),
    (74, '2020-04-17T07:00:00Z', 2),
    (75, '2020-04-14T07:00:00Z', 2),
    (76, '2020-04-13T07:00:00Z', 2),
    (77, '2020-04-12T07:00:00Z', 2),
    (78, '2020-04-11T07:00:00Z', 2),
    (79, '2020-04-10T07:00:00Z', 2),
    (80, '2020-04-09T07:00:00Z', 2),
    (81, '2020-04-08T07:00:00Z', 2),
    (82, '2020-04-06T07:00:00Z', 2),
    (83, '2020-04-05T07:00:00Z', 2),
    (84, '2020-04-03T07:00:00Z', 2),
    (85, '2020-04-01T07:00:00Z', 2),
    (86, '2020-03-31T07:00:00Z', 2),
    (87, '2020-03-29T07:00:00Z', 2),
    (88, '2020-03-28T07:00:00Z', 2),
    (89, '2020-03-27T07:00:00Z', 2),
    (90, '2020-03-26T07:00:00Z', 2),
    (91, '2020-03-25T07:00:00Z', 2),
    (92, '2020-03-24T07:00:00Z', 2),
    (93, '2020-03-18T07:00:00Z', 2),
    (94, '2020-03-14T07:00:00Z', 2),
    (95, '2020-03-13T07:00:00Z', 2),
    (96, '2020-03-12T07:00:00Z', 2),
    (97, '2020-03-11T07:00:00Z', 2),
    (98, '2020-03-10T07:00:00Z', 2),
    (99, '2020-03-09T07:00:00Z', 2),
    (100, '2020-03-08T07:00:00Z', 2);

SELECT setval('habit_records_id_seq', (SELECT MAX(id) from "habit_records"));


-- do something with the below
-- SELECT * FROM habits INNER JOIN habit_records ON habit_records.habit_id=habits.id;

COMMIT;